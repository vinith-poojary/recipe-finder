<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Recipe Finder</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-light: #f9f9f9;
      --bg-dark: #1c1c1c;
      --text-light: #ffffff;
      --text-dark: #333333;
      --primary: #00b09b;
      --secondary: #96c93d;
    }
    
    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      padding: 20px;
      text-align: center;
      background: var(--bg-light);
      color: var(--text-dark);
      transition: background 0.3s, color 0.3s;
    }

    body.dark-mode {
      background: var(--bg-dark);
      color: var(--text-light);
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      padding: 10px;
    }

    .toggle-button {
      padding: 8px 16px;
      background: var(--primary);
      border: none;
      border-radius: 6px;
      color: white;
      font-weight: bold;
      cursor: pointer;
    }

    #Agnirva_search-container {
      margin: 20px auto;
    }

    #Agnirva_ingredient-input {
      padding: 12px;
      width: 80%;
      max-width: 320px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }

    #Agnirva_search-button {
      padding: 12px 24px;
      background: linear-gradient(to right, var(--primary), var(--secondary));
      color: white;
      border: none;
      border-radius: 6px;
      margin-left: 10px;
      cursor: pointer;
    }

    #Agnirva_recipes {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 30px;
    }

    .Agnirva_recipe {
      background: white;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      overflow: hidden;
      transition: transform 0.3s;
      cursor: pointer;
    }

    body.dark-mode .Agnirva_recipe {
      background: #2c2c2c;
      color: white;
    }

    .Agnirva_recipe:hover {
      transform: scale(1.03);
    }

    .Agnirva_recipe img {
      width: 100%;
    }

    .Agnirva_recipe-name {
      padding: 12px;
      font-weight: bold;
    }

    /* Modal */
    #Agnirva_modal-overlay {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.7);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    #Agnirva_modal {
      background: white;
      padding: 20px;
      width: 90%;
      max-width: 600px;
      border-radius: 10px;
      position: relative;
    }

    body.dark-mode #Agnirva_modal {
      background: #2c2c2c;
      color: white;
    }

    #Agnirva_modal-close {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 24px;
      cursor: pointer;
    }

    @media (max-width: 500px) {
      #Agnirva_ingredient-input {
        width: 100%;
        margin-bottom: 10px;
      }
      #Agnirva_search-button {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>Recipe Finder üçΩÔ∏è</h1>
    <button class="toggle-button" onclick="toggleTheme()">Toggle Dark/Light</button>
  </header>

  <div id="Agnirva_search-container">
    <input type="text" id="Agnirva_ingredient-input" placeholder="Enter an ingredient...">
    <button id="Agnirva_search-button">Search</button>
  </div>

  <div id="Agnirva_recipes"></div>

  <script>
    const toggleTheme = () => {
      document.body.classList.toggle('dark-mode');
    };

    const Agnirva_searchButton = document.getElementById('Agnirva_search-button');
    const Agnirva_ingredientInput = document.getElementById('Agnirva_ingredient-input');
    const Agnirva_recipesDiv = document.getElementById('Agnirva_recipes');

    Agnirva_searchButton.addEventListener('click', () => {
      const ingredient = Agnirva_ingredientInput.value.trim();
      if (!ingredient) return alert('Please enter an ingredient');
      fetchRecipes(ingredient);
    });

    Agnirva_ingredientInput.addEventListener('keypress', e => {
      if (e.key === 'Enter') Agnirva_searchButton.click();
    });

    async function fetchRecipes(ingredient) {
      Agnirva_recipesDiv.innerHTML = '<p>Loading recipes...</p>';
      try {
        const res = await fetch(`https://www.themealdb.com/api/json/v1/1/filter.php?i=${ingredient}`);
        const data = await res.json();
        if (data.meals) {
          displayRecipes(data.meals);
        } else {
          Agnirva_recipesDiv.innerHTML = '<p>No recipes found.</p>';
        }
      } catch (err) {
        Agnirva_recipesDiv.innerHTML = '<p>Error loading recipes.</p>';
      }
    }

    function displayRecipes(meals) {
      Agnirva_recipesDiv.innerHTML = '';
      meals.forEach(meal => {
        const div = document.createElement('div');
        div.className = 'Agnirva_recipe';
        div.innerHTML = `
          <img src="${meal.strMealThumb}" alt="${meal.strMeal}" />
          <div class="Agnirva_recipe-name">${meal.strMeal}</div>
        `;
        div.onclick = () => showDetails(meal.idMeal);
        Agnirva_recipesDiv.appendChild(div);
      });
    }

    function showDetails(id) {
      fetch(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${id}`)
        .then(res => res.json())
        .then(data => {
          const meal = data.meals[0];
          const ingredients = getIngredientsList(meal);
          const modal = document.createElement('div');
          modal.id = 'Agnirva_modal-overlay';
          modal.innerHTML = `
            <div id="Agnirva_modal">
              <span id="Agnirva_modal-close">&times;</span>
              <h2>${meal.strMeal}</h2>
              <img src="${meal.strMealThumb}" alt="${meal.strMeal}" />
              <p><strong>Category:</strong> ${meal.strCategory}</p>
              <p><strong>Area:</strong> ${meal.strArea}</p>
              <h3>Ingredients:</h3>
              <ul>${ingredients}</ul>
              <h3>Instructions:</h3>
              <p>${meal.strInstructions}</p>
              ${meal.strYoutube ? `<a href="${meal.strYoutube}" target="_blank">Watch on YouTube</a>` : ''}
            </div>
          `;
          document.body.appendChild(modal);
          document.getElementById('Agnirva_modal-close').onclick = () => modal.remove();
        });
    }

    function getIngredientsList(meal) {
      let list = '';
      for (let i = 1; i <= 20; i++) {
        const ing = meal[`strIngredient${i}`];
        const meas = meal[`strMeasure${i}`];
        if (ing && ing.trim()) list += `<li>${meas} ${ing}</li>`;
      }
      return list;
    }
  </script>
</body>
</html>

